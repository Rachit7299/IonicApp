(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{X3zk:function(n,t,o){"use strict";o.r(t),o.d(t,"LoginPageModule",(function(){return p}));var e=o("ofXK"),i=o("3Pt+"),r=o("tyNb"),a=o("c7TG"),c=o("+EQv"),s=o("fXoL");function b(n,t){if(1&n&&(s.Xb(0,"ion-button",9),s.tc(1,"Login"),s.Wb()),2&n){var o=s.hc();s.kc("disabled",!o.loginForm.valid)}}function l(n,t){1&n&&(s.Xb(0,"ion-button",9),s.Xb(1,"div",10),s.Xb(2,"div",11),s.Xb(3,"span",12),s.tc(4,"Loading..."),s.Wb(),s.Wb(),s.Wb(),s.Wb())}var u=[{path:"",component:function(){function n(n,t,o,e){this.fb=n,this.apiService=t,this.toastController=o,this.router=e,this.loginForm=this.fb.group({username:[""],pswd:[""]}),this.isLoading=!1}return n.prototype.presentToast=function(n){return t=this,void 0,e=function(){return function(n,t){var o,e,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,e&&(i=2&r[0]?e.return:r[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,r[1])).done)return i;switch(e=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,e=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(n,a)}catch(c){r=[6,c],e=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}(this,(function(t){switch(t.label){case 0:return"403"==n&&(n="Invalid Credentials"),[4,this.toastController.create({message:n="401"==n?"User Not Found":"Login Successfull",duration:2e3})];case 1:return t.sent().present(),[2]}}))},new((o=void 0)||(o=Promise))((function(n,i){function r(n){try{c(e.next(n))}catch(t){i(t)}}function a(n){try{c(e.throw(n))}catch(t){i(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(r,a)}c((e=e.apply(t,[])).next())}));var t,o,e},n.prototype.ngOnInit=function(){this.loginForm.reset()},n.prototype.login=function(){var n=this;this.isLoading=!0,this.apiService.loginUser(this.loginForm.value).subscribe((function(t){n.isLoading=!1,n.presentToast(t.status),localStorage.setItem("token",t.token),localStorage.setItem("userId",t._id),window.location.replace("/tabs/home")}),(function(t){n.presentToast(t.status),n.isLoading=!1}))},n.\u0275fac=function(t){return new(t||n)(s.Ub(i.a),s.Ub(c.a),s.Ub(a.N),s.Ub(r.f))},n.\u0275cmp=s.Ob({type:n,selectors:[["app-login"]],decls:20,vars:3,consts:[["color","transparent","routerLink","/"],["name","arrow-back",1,"back_btn_arrow"],["size","large"],[3,"formGroup","ngSubmit"],["position","floating"],["required","","type","text","formControlName","username"],["required","","type","password","formControlName","pswd"],["type","submit","class","login_btn","expand","block","size","default",3,"disabled",4,"ngIf"],["routerLink","/signup"],["type","submit","expand","block","size","default",1,"login_btn",3,"disabled"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(n,t){1&n&&(s.Xb(0,"ion-content"),s.Xb(1,"ion-fab-button",0),s.Vb(2,"ion-icon",1),s.Wb(),s.Xb(3,"ion-title",2),s.tc(4,"Login"),s.Wb(),s.Xb(5,"form",3),s.fc("ngSubmit",(function(){return t.login()})),s.Xb(6,"ion-item"),s.Xb(7,"ion-label",4),s.tc(8,"Mobile Number"),s.Wb(),s.Vb(9,"ion-input",5),s.Wb(),s.Xb(10,"ion-item"),s.Xb(11,"ion-label",4),s.tc(12,"Password"),s.Wb(),s.Vb(13,"ion-input",6),s.Wb(),s.sc(14,b,2,1,"ion-button",7),s.sc(15,l,5,0,"ion-button",7),s.Wb(),s.Xb(16,"p"),s.tc(17,"Don't have a account? "),s.Xb(18,"a",8),s.tc(19,"Sign Up"),s.Wb(),s.Wb(),s.Wb()),2&n&&(s.Kb(5),s.kc("formGroup",t.loginForm),s.Kb(9),s.kc("ngIf",!t.isLoading),s.Kb(1),s.kc("ngIf",t.isLoading))},directives:[a.h,a.i,a.L,r.g,a.m,a.G,i.k,i.g,i.c,a.p,a.q,a.o,a.M,i.i,i.f,i.b,e.i,r.h,a.c],styles:["ion-content[_ngcontent-%COMP%]{--padding-start:5%;--padding-end:5%}ion-title[_ngcontent-%COMP%]{font-family:Montserrat;font-weight:500;font-size:30px}ion-fab-button[_ngcontent-%COMP%]{outline:none;--box-shadow:none;--ripple-color:#3880ff}@media (min-width:996px){ion-fab-button[_ngcontent-%COMP%]{margin-top:7%}ion-title[_ngcontent-%COMP%]{margin-top:2%;padding:1%}}@media (max-width:995px){ion-fab-button[_ngcontent-%COMP%]{margin-top:15%}ion-title[_ngcontent-%COMP%]{margin-top:5%;padding:2%}}.back_btn_arrow[_ngcontent-%COMP%]{line-height:60px;font-size:45px;stroke-width:1px;color:#b1b1b3}ion-item[_ngcontent-%COMP%]{padding-top:24px}.login_btn[_ngcontent-%COMP%]{margin-top:64px;--color:#fff;--background:linear-gradient(90deg,#667fea,#64b3fe);--background-activated:linear-gradient(90deg,#667fea,#64b3fe);--background-hover:linear-gradient(90deg,#667fea,#64b3fe);font-weight:500;font-size:16px;height:48px}.login_btn[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Montserrat}p[_ngcontent-%COMP%]{font-size:14px;text-align:center;margin-top:20px}a[_ngcontent-%COMP%]{text-decoration:none;color:#667fea}"]}),n}()}],p=function(){function n(){}return n.\u0275mod=s.Sb({type:n}),n.\u0275inj=s.Rb({factory:function(t){return new(t||n)},imports:[[e.b,i.d,i.h,a.I,r.i.forChild(u)]]}),n}()}}]);